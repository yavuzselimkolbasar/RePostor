<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' https://cdnjs.cloudflare.com; font-src https://cdnjs.cloudflare.com; connect-src 'self';">
    <title data-i18n="appTitle">RePoster Application</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <div class="titlebar">
      <div class="titlebar-logo">
        <i class="fa-brands fa-x-twitter"></i>
        <span>RePoster</span>
      </div>
      <div class="titlebar-controls">
        <button id="minimizeBtn" class="titlebar-button">
          <i class="fa-solid fa-minus"></i>
        </button>
        <button id="closeBtn" class="titlebar-button">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
    </div>

    <div class="main-content">
      <div class="sidebar">
        <div class="app-info">
          <div class="app-logo">
            <i class="fa-brands fa-buffer"></i>
          </div>
          <h3>RePoster</h3>
        </div>

        <div class="menu">
          <div class="menu-item active" data-page="home">
            <i class="fa-solid fa-paper-plane"></i>
            <span data-i18n="menuTransfer">Transfer Tweet</span>
          </div>
          <div class="menu-item" data-page="stats">
            <i class="fa-solid fa-chart-line"></i>
            <span data-i18n="menuStats">Statistics</span>
          </div>
          <div class="menu-item" data-page="settings">
            <i class="fa-solid fa-gear"></i>
            <span data-i18n="menuSettings">Settings</span>
          </div>
          <div class="menu-item" data-page="about">
            <i class="fa-solid fa-circle-info"></i>
            <span data-i18n="menuAbout">About</span>
          </div>
        </div>
        
        <div class="language-options">
          <div class="language-title"><i class="fa-solid fa-language"></i> <span data-i18n="languageTitle">Language Selection</span></div>
          <div class="language-buttons">
            <button id="langTr" class="language-button active">Türkçe</button>
            <button id="langEn" class="language-button">English</button>
          </div>
        </div>
      </div>

      <div class="content">
        <!-- Home Page - Tweet Transfer Section -->
        <div class="page active" id="home-page">
          <h1 data-i18n="mainTitle">Transfer X Tweets to Buffer</h1>

          <div class="form-group">
            <label for="accountUrl">
              <i class="fa-solid fa-user"></i> <span data-i18n="accountLabel">X Account</span>
            </label>
            <input
              type="text"
              id="accountUrl"
              data-i18n-placeholder="accountPlaceholder"
              placeholder="@username or https://x.com/username"
              autocomplete="off"
              spellcheck="false"
            />
            <input type="text" id="secondaryAccountUrl" placeholder="Secondary X account (@username)" class="account-input" style="margin-top:6px;" autocomplete="off" spellcheck="false" />
            <input type="text" id="tertiaryAccountUrl" placeholder="Tertiary X account (@username)" class="account-input" style="margin-top:6px;" autocomplete="off" spellcheck="false" />
            <div class="checkbox-group">
              <input type="checkbox" id="rememberAccountUrl" />
              <label for="rememberAccountUrl">Remember account to follow</label>
            </div>
            <p class="setting-description" data-i18n="accountDescription">
              Enter the username or URL of the account to follow
            </p>
          </div>

          <div class="form-group">
            <label for="xUsername">
              <i class="fa-solid fa-at"></i> <span data-i18n="xUsernameLabel">X Account Username</span>
            </label>
            <input
              type="text"
              id="xUsername"
              data-i18n-placeholder="xUsernamePlaceholder"
              placeholder="Your X username"
              autocomplete="username"
              spellcheck="false"
            />
            <div class="checkbox-group">
              <input type="checkbox" id="rememberXCredentials" />
              <label for="rememberXCredentials">Remember X account login information</label>
            </div>
          </div>

          <div class="form-group">
            <label for="xPassword">
              <i class="fa-solid fa-key"></i> <span data-i18n="xPasswordLabel">X Account Password</span>
            </label>
            <input
              type="password"
              id="xPassword"
              data-i18n-placeholder="xPasswordPlaceholder"
              placeholder="Your X password"
              autocomplete="current-password"
            />
          </div>

          <div class="form-group">
            <label for="bufferEmail">
              <i class="fa-solid fa-envelope"></i> <span data-i18n="emailLabel">Buffer Email</span>
            </label>
            <input
              type="email"
              id="bufferEmail"
              data-i18n-placeholder="emailPlaceholder"
              placeholder="Your Buffer email address"
              autocomplete="email"
              spellcheck="false"
            />
          </div>

          <div class="form-group">
            <label for="bufferPassword">
              <i class="fa-solid fa-lock"></i> <span data-i18n="passwordLabel">Buffer Password</span>
            </label>
            <input
              type="password"
              id="bufferPassword"
              data-i18n-placeholder="passwordPlaceholder"
              placeholder="Your Buffer password"
              autocomplete="current-password"
            />
          </div>

          <div class="form-group">
            <label for="translateOption">
              <i class="fa-solid fa-language"></i> <span data-i18n="translateLabel">Tweet Translation</span>
            </label>
            <select id="translateOption" class="select-input">
              <option value="none" data-i18n="translateNone">Don't translate (Original)</option>
              <option value="tr" data-i18n="translateTr">Translate to Turkish</option>
              <option value="en" data-i18n="translateEn">Translate to English</option>
              <option value="fr" data-i18n="translateFr">Translate to French</option>
              <option value="de" data-i18n="translateDe">Translate to German</option>
              <option value="ru" data-i18n="translateRu">Translate to Russian</option>
              <option value="es" data-i18n="translateEs">Translate to Spanish</option>
            </select>
            <p class="setting-description" data-i18n="translateDescription">
              Translates tweets to your selected language before transferring to Buffer
            </p>
          </div>

          <div class="checkbox-group">
            <input type="checkbox" id="saveCredentials" />
            <label for="saveCredentials" data-i18n="rememberMe">Remember my information</label>
          </div>
          <div class="form-group" id="filterBtnGroup">
            <button id="filterBtn" class="secondary-button">
              <i class="fa-solid fa-filter"></i> <span data-i18n="filterButton">Filter</span>
            </button>
            <span style="margin-left: 10px; color: #888; font-size: 13px;" data-i18n="filterInfo">Filter options are here</span>
          </div>

          <div id="filterModal" class="modal" style="display:none;">
            <div class="modal-content">
              <span class="close" id="closeFilterModal">&times;</span>
              <h2><i class="fa-solid fa-filter"></i> <span data-i18n="filterOptions">Filter Options</span></h2>
              <div class="form-group">
                <label for="dateRange" data-i18n="dateRangeLabel">Date Range</label>
                <input type="date" id="dateStart" /> - <input type="date" id="dateEnd" />
              </div>
              <div class="form-group">
                <input type="checkbox" id="onlyMedia" />
                <label for="onlyMedia" data-i18n="onlyMediaLabel">Only tweets with media</label>
              </div>
              <div class="form-group">
                <input type="checkbox" id="excludeRetweets" />
                <label for="excludeRetweets" data-i18n="excludeRetweetsLabel">Exclude retweets</label>
              </div>
              <div class="form-group">
                <label for="bannedWords" data-i18n="bannedWordsLabel">Banned Words</label>
                <input type="text" id="bannedWords" placeholder="e.g. profanity1, word2, word3" />
                <p class="setting-description" data-i18n="bannedWordsDescription">Tweets containing these words will not be retrieved. Separate with commas.</p>
              </div>
              <div class="form-group">
                <label for="maxTweetsPerHour" data-i18n="maxTweetsPerHourLabel">Maximum tweets per hour to retrieve?</label>
                <input type="number" id="maxTweetsPerHour" min="1" max="20" value="5" />
                <p class="setting-description" data-i18n="maxTweetsPerHourDescription">Example: 5 tweets (minimum 1, maximum 20 tweets)</p>
              </div>
              <button id="applyFiltersBtn" class="primary-button"><i class="fa-solid fa-check"></i> <span data-i18n="applyFilters">Apply Filters</span></button>
            </div>
          </div>

          <div class="form-group">
            <label>
              <i class="fa-solid fa-share-nodes"></i> <span data-i18n="publishOptionLabel">Publishing Option</span>
            </label>
            <div class="radio-group">
              <div class="radio-item">
                <input type="radio" id="publish-option-draft" name="publish-option" value="draft" checked />
                <label for="publish-option-draft" data-i18n="publishOptionDraft">Save as draft</label>
              </div>
              <div class="radio-item">
                <input type="radio" id="publish-option-direct" name="publish-option" value="direct" />
                <label for="publish-option-direct" data-i18n="publishOptionDirect">Share directly</label>
              </div>
            </div>
            <p class="setting-description" data-i18n="publishOptionDescription">
              When a tweet is added to Buffer, it is saved as a draft or shared immediately
            </p>
          </div>

          <button id="startBtn" class="primary-button">
            <i class="fa-solid fa-play"></i> <span data-i18n="startButton">Start Process</span>
          </button>

          <div class="card status-section">
            <h2 class="status-title"><i class="fa-solid fa-circle-info"></i> <span data-i18n="statusTitle">Status</span></h2>
            <div id="statusLog" class="status-log"></div>
            <div class="plan-table-header">
              <span id="countdownDisplay" class="countdown-display"></span>
            </div>
            <div id="planTableDiv" class="plan-table"></div>
          </div>
        </div>

        <!-- Statistics Page -->
        <div class="page" id="stats-page">
          <h1 data-i18n="statsTitle">Statistics</h1>

          <div class="card">
            <h3 class="settings-category">
              <i class="fa-solid fa-calendar-days"></i> <span data-i18n="timeStatsTitle">Time-Based Statistics</span>
            </h3>
            <div class="stats-section">
              <div class="stats-tabs">
                <button class="stats-tab active" data-period="today" data-i18n="statsToday">Today</button>
                <button class="stats-tab" data-period="week" data-i18n="statsWeek">This Week</button>
                <button class="stats-tab" data-period="month" data-i18n="statsMonth">This Month</button>
                <button class="stats-tab" data-period="all" data-i18n="statsAllTime">All Time</button>
              </div>
              <div class="stats-counters">
                <div class="stats-counter">
                  <div class="counter-value" id="tweets-count">0</div>
                  <div class="counter-label" data-i18n="statsTweetsProcessed">Tweets Processed</div>
                </div>
                <div class="stats-counter">
                  <div class="counter-value" id="tweets-success">0</div>
                  <div class="counter-label" data-i18n="statsTweetsSuccess">Successful</div>
                </div>
                <div class="stats-counter">
                  <div class="counter-value" id="tweets-failed">0</div>
                  <div class="counter-label" data-i18n="statsTweetsFailed">Failed</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <h3 class="settings-category">
              <i class="fa-solid fa-user"></i> <span data-i18n="accountStatsTitle">Account Statistics</span>
            </h3>
            <div class="stats-table-container">
              <table class="stats-table">
                <thead>
                  <tr>
                    <th data-i18n="statsAccount">Account</th>
                    <th data-i18n="statsTweets">Tweet Count</th>
                    <th data-i18n="statsLastTransfer">Last Transfer</th>
                  </tr>
                </thead>
                <tbody id="account-stats-body">
                  <!-- Will be filled dynamically -->
                </tbody>
              </table>
            </div>
          </div>

          <div class="card">
            <h3 class="settings-category">
              <i class="fa-solid fa-share-nodes"></i> <span data-i18n="platformStatsTitle">Platform Statistics</span>
            </h3>
            <div class="stats-table-container">
              <table class="stats-table">
                <thead>
                  <tr>
                    <th data-i18n="statsPlatform">Platform</th>
                    <th data-i18n="statsShares">Shares</th>
                    <th data-i18n="statsLastShare">Last Share</th>
                  </tr>
                </thead>
                <tbody id="platform-stats-body">
                  <tr>
                    <td>Buffer</td>
                    <td>0</td>
                    <td>-</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Settings Page -->
        <div class="page" id="settings-page">
          <h1 data-i18n="settingsTitle">Settings</h1>

          <div class="card">
            <h3 class="settings-category">
              <i class="fa-solid fa-display"></i> <span data-i18n="appearanceTitle">Appearance</span>
            </h3>
            <div class="form-group">
              <label data-i18n="themeLabel">Theme</label>
              <div class="radio-group">
                <div class="radio-item">
                  <input
                    type="radio"
                    id="theme-light"
                    name="theme"
                    value="light"
                    checked
                  />
                  <label for="theme-light" data-i18n="lightTheme">Light Theme</label>
                </div>
                <div class="radio-item">
                  <input
                    type="radio"
                    id="theme-dark"
                    name="theme"
                    value="dark"
                  />
                  <label for="theme-dark" data-i18n="darkTheme">Dark Theme</label>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <h3 class="settings-category">
              <i class="fa-solid fa-browser"></i> <span data-i18n="browserTitle">Browser Settings</span>
            </h3>
            <div class="form-group">
              <div class="checkbox-group">
                <input type="checkbox" id="headless-mode" />
                <label for="headless-mode" data-i18n="headlessMode"
                  >Run browser in headless mode</label
                >
              </div>
              <p class="setting-description" data-i18n="headlessDescription">
                When headless mode is enabled, the browser window is invisible.
                Operations are performed in the background.
              </p>
            </div>
          </div>

          <div class="card">
            <h3 class="settings-category">
              <i class="fa-solid fa-clock"></i> <span data-i18n="timeTitle">Time Settings</span>
            </h3>
            <div class="form-group">
              <label for="page-timeout" data-i18n="pageTimeoutLabel"
                >Page Loading Timeout (seconds)</label
              >
              <input
                type="number"
                id="page-timeout"
                min="5"
                max="60"
                value="30"
              />
              <p class="setting-description" data-i18n="pageTimeoutDescription">
                Maximum time to wait for pages to load.
              </p>
            </div>

            <div class="form-group">
              <label for="element-timeout" data-i18n="elementTimeoutLabel"
                >Element Waiting Timeout (seconds)</label
              >
              <input
                type="number"
                id="element-timeout"
                min="2"
                max="30"
                value="10"
              />
              <p class="setting-description" data-i18n="elementTimeoutDescription">
                Maximum time to wait for page elements (buttons, form fields, etc.) to load.
              </p>
            </div>
          </div>

          <div class="card">
            <h3 class="settings-category">
              <i class="fa-solid fa-share-nodes"></i> <span data-i18n="bufferTitle">Buffer Settings</span>
            </h3>
            <div class="form-group">
              <div class="checkbox-group">
                <input type="checkbox" id="auto-publish" />
                <label for="auto-publish" data-i18n="autoPublish">Auto Publish</label>
              </div>
              <p class="setting-description" data-i18n="autoPublishDescription">
                Shares tweets immediately after adding them to Buffer instead of saving as draft.
              </p>
            </div>
          </div>

          <div class="card">
            <h3 class="settings-category">
              <i class="fa-solid fa-shield-halved"></i> <span>Security Settings</span>
            </h3>
            <div class="form-group">
              <div class="checkbox-group">
                <input type="checkbox" id="use-secure-storage" checked />
                <label for="use-secure-storage">Use secure storage</label>
              </div>
              <p class="setting-description">
                Stores your login information securely. Not recommended to disable.
              </p>
            </div>
            <div class="form-group">
              <div class="checkbox-group">
                <input type="checkbox" id="session-timeout" checked />
                <label for="session-timeout">Session timeout</label>
              </div>
              <p class="setting-description">
                Ends the session and clears information after 30 minutes of inactivity.
              </p>
            </div>
          </div>

          <div class="card">
            <h3 class="settings-category">
              <i class="fa-solid fa-trash"></i> <span data-i18n="dataTitle">Data Cleaning</span>
            </h3>
            <div class="form-group">
              <button id="clearDataBtn" class="danger-button">
                <i class="fa-solid fa-trash"></i> <span data-i18n="clearDataButton">Clear All Saved Data</span>
              </button>
              <p class="setting-description" data-i18n="clearDataDescription">
                All saved information and settings will be deleted. This action cannot be undone.
              </p>
            </div>
          </div>

          <div class="settings-actions">
            <button id="saveSettingsBtn" class="primary-button">
              <i class="fa-solid fa-floppy-disk"></i> <span data-i18n="saveSettings">Save Settings</span>
            </button>
          </div>
        </div>

        <!-- About Page -->
        <div class="page" id="about-page">
          <h1 data-i18n="aboutTitle">About</h1>

          <div class="card about-section">
            <div class="app-about">
              <div class="app-logo-large">
                <i class="fa-brands fa-buffer"></i>
              </div>
              <h2>RePoster</h2>
              <p class="version" data-i18n="version">Version 1.0.0</p>
            </div>

            <p class="about-description" data-i18n="aboutDescription">
              This application allows you to transfer tweets from X (Twitter) platform to Buffer.
              It also supports tweets containing photos and videos.
            </p>

            <div class="about-links">
              <a href="https://github.com/yunuskolbasar/RePostor" class="link-button" target="_blank" rel="noopener noreferrer">
                <i class="fa-brands fa-github"></i> <span data-i18n="githubLink">GitHub</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="renderer.js"></script>
    <!-- Include secure script that will help encrypt data -->
    <script src="secure-storage.js" integrity="sha256-j8KJf9M2QLbFhDIlqbGwQvZrjNm1NXyPUAKK2hCxIwU="></script>
  </body>
</html>
